import{_ as h,c as r,f as x,o as i,d as e,b as n,r as a,e as b,S as k,H as v,g as w,t as f}from"./index-Cif_aB7z.js";import{E as S,A as C}from"./AlertSuccess-Dy2XSCeG.js";const P={},$={class:"mt-6"};function A(s,t,c,d,u,l){return i(),r("form",$,t[0]||(t[0]=[x(`<div class="mb-4"><label for="Image" class="block text-sm font-semibold text-gray-800 dark:text-gray-200">Image</label><input type="file" class="block w-full px-4 py-2 mt-2 text-red-700 bg-white border rounded-md focus:border-red-400 focus:ring-red-300 focus:outline-none focus:ring focus:ring-opacity-40 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"></div><div class="mb-2"><label for="Alt" class="block text-sm font-semibold text-gray-800 dark:text-gray-200">Alt</label><input type="text" class="block w-full px-4 py-2 mt-2 text-red-700 bg-white border rounded-md focus:border-red-400 focus:ring-red-300 focus:outline-none focus:ring focus:ring-opacity-40 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"></div><div class="mb-2"><label for="Figcaption" class="block text-sm font-semibold text-gray-800 dark:text-gray-200">Figcaption</label><textarea placeholder="Enter  figcaption image here...
" name="message" rows="4" cols="50" class="block w-full px-4 py-2 mt-2 text-red-700 bg-white border rounded-md focus:border-red-400 focus:ring-red-300 focus:outline-none focus:ring focus:ring-opacity-40 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"></textarea></div><div class="mt-6"><button class="w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-red-700 rounded-md hover:bg-red-600 focus:outline-none focus:bg-red-600"> Save </button></div>`,4)]))}const I=h(P,[["render",A]]),M={components:{FormModel:I},methods:{showModal(){document.getElementById("myModel").showModal()}}},N={id:"myModel",class:"modal modal-bottom sm:modal-middle"},T={class:"modal-box bg-gradient-to-br border border-cyan-400/40"},B={class:"relative flex flex-col items-center justify-center"};function E(s,t,c,d,u,l){const m=a("FormModel");return i(),r(b,null,[e("i",{title:"Add",onClick:t[0]||(t[0]=(...p)=>l.showModal&&l.showModal(...p)),class:"fa-solid fa-plus text-gray-500 cursor-pointer"}),e("dialog",N,[e("div",T,[t[1]||(t[1]=e("h3",{class:"text-lg font-bold"},"New Element!",-1)),e("div",B,[n(m)]),t[2]||(t[2]=e("div",{class:"modal-action"},[e("form",{method:"dialog"},[e("button",{class:"btn"},"Close")])],-1))])])],64)}const O=h(M,[["render",E]]),F={props:["success"],computed:{killedAlert(){setTimeout(()=>{this.success=null},3e3)}}},V={props:["id"],data(){return{pages:JSON.parse(localStorage.getItem("pages")),pageContent:null,success:null}},components:{HeaderApp:v,AlertSuccess:C,EditRout:S,SectionTitle:k,SuccessTimeOut:F,Model:O},computed:{getPage(){return this.pages.find(s=>s.id==this.id)}},methods:{loadPageContent(){this.getPage&&this.getPage.primaryName&&(this.pageContent=JSON.parse(localStorage.getItem(this.getPage.primaryName)))},updateContent(s,t,c){const d=s.target.innerText;t[c]=d,console.log(this.pageContent),localStorage.setItem(this.getPage.primaryName,JSON.stringify(this.pageContent)),this.success="successfully updated",setTimeout(()=>{this.success=null},3e3)},deletePage(s){console.log(s);let t=this.pageContent.heroImgs.splice(this.pageContent.heroImgs.indexOf(s),1);console.log(t),localStorage.setItem(this.getPage.primaryName,JSON.stringify(this.pageContent)),this.success="successfully deleted",console.log("successfully deleted"),setTimeout(()=>{this.success=null},3e3)}},created(){this.loadPageContent()}},H={class:"container p-4 mx-auto"},J={class:"overflow-x-auto"},j={class:"table table-zebra bg-black/60 mt-8 mb-2"},z={class:"avatar"},D={class:"ring-primary ring-offset-base-100 w-24 rounded-full ring-2 ring-offset-2"},L=["src"],R=["data-original","onBlur"],q=["onBlur","data-original"],G={class:"flex justify-start gap-4 items-center"},K=["idPage","onClick"];function Q(s,t,c,d,u,l){const m=a("AlertSuccess"),p=a("HeaderApp"),y=a("SectionTitle"),_=a("Model");return i(),r(b,null,[n(m,{success:u.success},null,8,["success"]),n(p),n(y,{"title-type":"h1","text-size":"text-2xl md:text-3xl my-8",content:"Edit "+l.getPage.name},null,8,["content"]),e("div",H,[e("div",J,[e("table",j,[t[0]||(t[0]=e("thead",null,[e("tr",null,[e("th"),e("th",null,"Img"),e("th",null,"Alt"),e("th",null,"figcaption"),e("th",null,"Operation")])],-1)),e("tbody",null,[(i(!0),r(b,null,w(u.pageContent.heroImgs,o=>(i(),r("tr",{key:o.id},[e("th",null,f(o.id),1),e("th",null,[e("div",z,[e("div",D,[e("img",{src:"../../../"+o.src,alt:"hero image"},null,8,L)])])]),e("th",{"data-original":o.alt,contenteditable:"true",class:"cursor-pointer hover:bg-black/5 focus:outline-cyan-800/40 transition delay-75",onBlur:g=>l.updateContent(g,o,"alt")},f(o.alt),41,R),e("th",{contenteditable:"true",onBlur:g=>l.updateContent(g,o,"figcaption"),"data-original":o.figcaption,class:"cursor-pointer hover:bg-black/5 focus:outline-cyan-800/40 transition delay-75"},f(o.figcaption),41,q),e("th",G,[e("i",{title:"Deleted",class:"fa-solid fa-trash text-red-400 cursor-pointer",idPage:o.id,onClick:g=>l.deletePage(o)},null,8,K),n(_)])]))),128))])])]),t[1]||(t[1]=e("ul",{class:"list-disc list-inside text-sm bg-black/60 p-4 mx-auto"},[e("p",{class:"mb-2 font-bold"},"instruction for use"),e("li",null," To edit the content, click on the element and start typing"),e("li",null," To delete the content, click on the delete icon "),e("li",null," To add new element, click on the add icon "),e("li",null,"To save the changes, click out side the element ")],-1))])],64)}const X=h(V,[["render",Q]]);export{X as default};
